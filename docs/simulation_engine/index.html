<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulation Engine - Teleoperation Project</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
        }
        header {
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        h1 {
            color: #2c3e50;
        }
        h2 {
            color: #3498db;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .demo-section {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
        }
        a {
            color: #3498db;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .demo-gallery {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }
        .demo-gallery img {
            width: 450px;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .video-container {
            margin: 20px 0;
        }
        video {
            max-width: 100%;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        pre {
            background-color: #f8f8f8;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        code {
            font-family: 'Courier New', monospace;
        }
        .feature-list {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        .feature {
            flex: 1;
            min-width: 250px;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .feature h3 {
            margin-top: 0;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <header>
        <h1>Simulation Engine</h1>
        <p>Enhanced physics-based simulation for the Teleoperation Project</p>
        <a href="../">&larr; Back to Project Documentation</a>
    </header>

    <h2>Overview</h2>
    <p>
        The simulation engine is responsible for accurately modeling the physical environment,
        robot behaviors, and interactions needed for teleoperation simulation. The enhanced version
        integrates PyBullet for realistic physics simulation and provides tools for visualization
        and environment creation.
    </p>

    <div class="feature-list">
        <div class="feature">
            <h3>PyBullet Physics</h3>
            <p>
                Robust physics simulation including gravity, collisions, and realistic
                material properties for more accurate robot interactions.
            </p>
        </div>
        
        <div class="feature">
            <h3>Multiple Robot Support</h3>
            <p>
                Support for different robot types including KUKA LBR arms,
                Husky mobile platforms, and grippers with accurate kinematics.
            </p>
        </div>
        
        <div class="feature">
            <h3>Visualization Tools</h3>
            <p>
                Comprehensive tools for capturing images, creating videos,
                plotting trajectories, and displaying robot information.
            </p>
        </div>
        
        <div class="feature">
            <h3>Environment Creation</h3>
            <p>
                Tools for creating different simulation scenes: tabletop scenes,
                obstacle courses, stacking scenes, and sorting tasks.
            </p>
        </div>
    </div>

    <h2>Demo Gallery</h2>
    
    <div class="demo-section">
        <h3>Physics Simulation</h3>
        <p>
            The physics demo demonstrates realistic gravity and collision handling
            by stacking multiple cubes and letting them settle according to physics principles.
        </p>
        <div class="demo-gallery">
            <img src="physics_demo.png" alt="Physics Demo - Stacked Cubes">
        </div>
        <pre><code>python examples/simulation_demo.py --demo physics</code></pre>
    </div>
    
    <div class="demo-section">
        <h3>Robot Control</h3>
        <p>
            The robot control demo shows how robots can be controlled using different command types:
            joint position commands and velocity commands, with a KUKA LBR arm.
        </p>
        <div class="demo-gallery">
            <img src="robot_joint_position.png" alt="Robot Joint Position Control">
            <img src="robot_velocity.png" alt="Robot Velocity Control">
        </div>
        <pre><code>python examples/simulation_demo.py --demo control</code></pre>
    </div>
    
    <div class="demo-section">
        <h3>Robot Trajectory</h3>
        <p>
            The trajectory demo shows how a mobile robot can navigate an obstacle course
            using a sequence of commands, with trajectory tracking and visualization.
        </p>
        <div class="demo-gallery">
            <img src="robot_trajectory.png" alt="Robot Trajectory Tracking">
        </div>
        <pre><code>python examples/simulation_demo.py --demo trajectory</code></pre>
    </div>
    
    <div class="demo-section">
        <h3>Multiple Robot Interaction</h3>
        <p>
            The multi-robot demo shows multiple robots working in a scene, with a sorting task
            that combines a robot arm and a gripper.
        </p>
        <div class="video-container">
            <video controls>
                <source src="multi_robot_demo.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <pre><code>python examples/simulation_demo.py --demo multi</code></pre>
    </div>

    <h2>Code Components</h2>
    <p>
        The simulation engine is comprised of three main modules:
    </p>
    
    <h3>simulator.py</h3>
    <p>
        The core simulation engine that integrates with PyBullet to handle physics.
        It manages robots, environment objects, and provides methods for applying commands
        and retrieving robot states.
    </p>
    <pre><code>simulator = Simulator(use_gui=True)
simulator.add_robot("robot1", "arm_6dof", robot_pose)
command = Command(type="joint_position", data={"positions": [0.1, 0.2, 0.3, 0.4, 0.5, 0.6]})
simulator.apply_command("robot1", command)
simulator.step(0.01)  # Step simulation by 10ms</code></pre>
    
    <h3>environment.py</h3>
    <p>
        Utilities for creating and managing simulation environments, with predefined
        scenes and object manipulation tools.
    </p>
    <pre><code>environment = Environment(simulator)
objects = environment.create_tabletop_scene()
# OR
objects = environment.create_obstacle_course(num_obstacles=5)
# OR
objects = environment.create_stacking_scene(num_cubes=4)</code></pre>
    
    <h3>visualization.py</h3>
    <p>
        Tools for visualizing the simulation state, capturing images and videos,
        and displaying debug information.
    </p>
    <pre><code>visualizer = SimulationVisualizer(simulator)
visualizer.capture_image("robot.png", width=640, height=480)
visualizer.create_video("simulation.mp4", duration=5.0, fps=30)
visualizer.plot_robot_trajectory("robot1", duration=10.0)</code></pre>

    <h2>Running the Demo</h2>
    <p>
        To run the complete simulation demo and generate all the artifacts shown on this page:
    </p>
    <pre><code># Run all demos
./examples/simulation_demo.py

# Run a specific demo
./examples/simulation_demo.py --demo physics
./examples/simulation_demo.py --demo control
./examples/simulation_demo.py --demo trajectory
./examples/simulation_demo.py --demo multi</code></pre>

    <footer>
        <p>&copy; 2024 Teleoperation Simulation Project</p>
        <p>
            <a href="https://github.com/sajad2025/teleop">GitHub Repository</a> |
            <a href="../">Project Documentation Home</a>
        </p>
    </footer>
</body>
</html> 